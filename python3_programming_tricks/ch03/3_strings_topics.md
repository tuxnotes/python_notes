
# 3 String Related

## 3.1 如何查分有多种分隔符的字符串

**实际案例**

把某个字符串依据分隔符号拆分不同的字段。该字符串包含多种不同的分隔符，例如：

s = 'ab;cd|dfg|hi,jkl|mn\topq;rst,uvw\txyz'

其中<,>,<;>,<|>,<\t>都是分隔符，如何处理？

**解决方案**

方法1：连续使用str.split()方法，每次处理一种分隔符号。一次只能处理一种分隔符；
方法2：使用正则表达式的re.split()方法。(推荐)

## 3.2 如何判断字符串a是否以字符串b开头会结尾

**实际案例**

某文件系统目录下有一系列文件：

quicksort.c
graph.py
heap.java
install.sh
stack.cpp
...

编写程序给其中所有的.sh文件和.py文件加上用户可执行权限

**解决方案**

使用str.startswith()和str.endswith()方法。(注意：多个匹配时参数使用元组.)

## 3.3 如何调整字符串中文本的格式

**实际案例**

某软件的log文件，起哄的日期格式为 'yyyy-mm-dd':

2016-05-21 10:39:26 status unpacked python3-pip:all
2016-05-23 10:49:26 status half-configured python3
2016-05-23 10:52:26 status installed python3-pip:all
2016-05-24 11:57:26 configure python3-wheel:all 0.24
...

如果把其中日期改为美国日期的格式 'mm/dd/yyyy',如


'2016-05-23' => '05/23/2016', 应如何处理

**解决方案**

使用正则表达式re.sub()方法做字符串替换，利用正则表达是的捕获组，捕获每个部分内容，在替换字符串中调整各捕获组的顺序。

## 3.4 如何将多个小字符串拼接成一个大字符串

**实际案例**

在设计某网络程序时，我们自定义了一个基于UDP的网络协议，按固定次序向服务器传递一系列参数：

hwDetect:       "<0112>"
gxDepthBits:       "<32>"
gxResolution:       "<1024x768>"
gxRefresh:       "<60>"
fullAlpha:       "<1>"
lodDist:       "<100.0>"
DistCull:       "<500.0>"

在程序中我们将各参数按次序收集到列表中：
["<0112>","<32>","<1024x768>","<60>","<1>","<100.0>","<500.0>"]
最终我们要把各参数拼接成一个数据包进行发送
"<0112><32><1024x768><60><1><100.0><500.0>"

**解决方案**

方法一：迭代列表，连续使用'+'操作依次拼接每一个字符串

方法二：使用str.join()方法，更加快速的拼接列表中所有字符串

## 3.5 如何对字符串进行左，右，居中对齐

**实际案例**

某个字典存储了一些列属性值

{
    "lodDist": 100.0,
    "SmallCull": 0.04,
    "DistCull": 500.0,
    "trilinear": 40,
    "farclip": 477
}

在程序中，我们想以工整的格式将其内容输出，如何处理
    lodDist  :100.0
    SmallCull:0.04
    DistCull :500.0
    trilinear:40
    farclip  :477

**解决方案**

实际就是用固定长度对字符串进行左对齐，固定长度是最长字符串的长度

方法一：使用字符串的str.ljust(),str.rjust(),str.center()进行左，右，居中对齐

方法二：使用Python的内置函数format方法，场地类似'<20','>20','^20'参数完成同样任务

## 3.6 如何取出字符串中不需要的字符

**实际案例**

1. 过滤掉用户输入中前后多余的空白字符'    nick2008@gmail.com  '
2. 过滤某windows下编辑文本中的'\r': 'hello world\r\n'
3. 去掉文本中的unicode组合符号(音调):

**解决方案**

方法一：字符串strip(), lstrip(), rstrip()方法去掉字符串两端字符
方法二：删除单个固定位置的字符，可以使用切片 + 拼接的方式
方法三：使用字符串的replace()方法或正则表达式re.sub()删除任意子串，将需要删除的字符替换成空串
方法四：使用字符串的translate()方法，可以同时删除多种不同字符


